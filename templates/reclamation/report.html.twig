{%if app.user and is_granted('ROLE_INTERNAUTE')%}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <title>Report</title>
    <meta content="" name="description">
    <meta content="" name="keywords">
        <link href="{{ asset('assets/img/favicon.png') }}" rel="icon">
        <link href="{{ asset('assets/img/apple-touch-icon.png') }}" rel="apple-touch-icon">
        <!-- Google Fonts -->
        <link href="{{ asset('https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i') }}" rel="stylesheet">
    <link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">

        <!-- Vendor CSS Files -->
        <link href="{{ asset('assets/vendor/bootstrap/css/bootstrap.min.css') }}" rel="stylesheet">
        <link href="{{ asset('assets/vendor/icofont/icofont.min.css') }}" rel="stylesheet">
        <link href="{{ asset('assets/vendor/boxicons/css/boxicons.min.css') }}" rel="stylesheet">
        <link href="{{ asset('assets/vendor/animate.css/animate.min.css') }}" rel="stylesheet">
        <link href="{{ asset('assets/vendor/owl.carousel/assets/owl.carousel.min.css') }}" rel="stylesheet">
        <link href="{{ asset('assets/vendor/venobox/venobox.css') }}" rel="stylesheet">
        <link href="{{ asset('assets/vendor/aos/aos.css') }}" rel="stylesheet">
        <link href="{{ asset('assets/css/style.css') }}" rel="stylesheet">
        <link data-require="fontawesome@*" data-semver="4.5.0" rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.css" />

</head>
<header id="header" class="fixed-top" style="top:0px;">
    <div class="d-flex align-items-center" style="padding-right: 75px;">
        <div class="container" style="margin-left: 5px; display: flex!important;">
            <img src="{{ asset('assets/img/logo.png') }}" alt="">
            <h1 style="    padding-top: 29px;
margin-bottom: 24px;letter-spacing: 0px;" class="logo mr-auto"><a href="{{ asset('home') }}" >Happy-Trip</a></h1>
        </div>

        <!-- Uncomment below if you prefer to use an image logo -->
        <!-- <a href="index.html" class="logo mr-auto"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->

        <nav class="nav-menu d-none d-lg-block" style="margin-left: -125px">
            <ul>
                <li class="active"><a href="{{ path('home') }}">Home</a></li>
                <li><a href="{{ path('AfficherDestinations') }}">Destinations</a></li>
                <li><a href="{{ path('VoyageVirtuellePay') }}">VoyagesVirtuelle</a></li>
                <li><a href="{{ path('showEvent') }}">Events</a></li>
                <li><a href="{{ path('afficheHotel') }}">Hotels</a></li>
                <li><a href="{{ path ('showOffer') }}">Offer</a></li>
                <li><a href="{{path('app_report')}}">Add Report</a></li>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <li>
                {% if app.user %}
                        Welcome {{ app.user.username }},
                </li>
                <li class="book-a-table text-center"><a href="{{ path('app_logout') }}">Logout</a></li>
                {% else %}
                    <li class="book-a-table text-center"><a href="{{ path('app_login') }}">Login</a></li>
                    <li class="book-a-table text-center" style="padding-left: 7px;"><a href="{{ path('app_register') }}">Register</a></li>
                {% endif %}

            </ul>
        </nav><!-- .nav-menu -->

    </div>
</header><!-- End Header -->
<script src="{{ asset('assets/vendor/jquery/jquery-2.2.4.min.js') }}"></script>
<script src="{{ asset('assets/vendor/bootstrap/js/bootstrap.bundle.min.js') }}"></script>
<script src="{{ asset('assets/vendor/jquery.easing/jquery.easing.min.js') }}"></script>
<script src="{{ asset('assets/vendor/php-email-form/validate.js') }}"></script>
<script src="{{ asset('assets/vendor/owl.carousel/owl.carousel.min.js') }}"></script>
<script src="{{ asset('assets/vendor/isotope-layout/isotope.pkgd.min.js') }}"></script>
<script src="{{ asset('assets/vendor/venobox/venobox.min.js') }}"></script>
<script src="{{ asset('assets/vendor/aos/aos.js') }}"></script>
<!-- Template Main JS File -->
<script src="{{ asset('assets/js/main.js') }}"></script>
    <section id="hero" class="d-flex align-items-center">
        <div  class="container position-relative text-center text-lg-left" data-aos="zoom-in" data-aos-delay="100">
            <div class="row" align="center">
                <div class="col-lg-8"><br/>
                {% if message is not null%}
                <h1 align = "center" class="text-success" style="margin-left: -225px;">
                      {{message}}
                </h1>
                {% endif %}


                    <h1 style="margin-left: 390px; margin-top: 55px"><span>Send your report</span></h1>
                    {{ form_start(reportForm,{'method':'post','action':path('app_report')}) }}
                    <div class="container" style="margin-top: -45px; margin-left: 200px">

                    {{ form_start(reportForm) }}
                        {{ form_widget(reportForm.subject,{'attr':{'class':'btn-menu','style':'pa-right: 184px;margin-bottom: 16px;width:400px;color:#212529;'}}) }}
                        <br>
                            {{ form_widget(reportForm.message,{'attr':{'class':'btn-menu','style':'pa-right: 184px;margin-bottom: 16px;width:400px;color:#212529;','placeholder':'Write your message...'}}) }}
                            <br>

                        <input type="hidden" name="note" id="note" value="0">
                        <div class="stars" style="margin-right:39%;">
                            <i class="lar la-star" data-value="1"></i><i class="lar la-star" data-value="2"></i><i class="lar la-star" data-value="3"></i><i class="lar la-star" data-value="4"></i><i class="lar la-star" data-value="5"></i>
                        </div>
                        <button type="submit" class="btn-menu" style="margin-left: -7px;padding-right: -35px;font-size:15px;background-color: #cda45e;">Send</button>
                            </div>
                        <br>
                    {{ form_end(reportForm) }}
                    </div>
                </div>
            </div>
        </div>
    </section>
{%endif%}

{% block js %}
<script>
    window.onload = () => {
// On va chercher toutes les étoiles
        const stars = document.querySelectorAll(".la-star");

// On va chercher l'input
        const note = document.querySelector("#note");

// On boucle sur les étoiles pour le ajouter des écouteurs d'évènements
        for(star of stars){
// On écoute le survol
            star.addEventListener("mouseover", function(){
                resetStars();
                this.style.color = "red";
                this.classList.add("las");
                this.classList.remove("lar");
// L'élément précédent dans le DOM (de même niveau, balise soeur)
                let previousStar = this.previousElementSibling;

                while(previousStar){
// On passe l'étoile qui précède en rouge
                    previousStar.style.color = "red";
                    previousStar.classList.add("las");
                    previousStar.classList.remove("lar");
// On récupère l'étoile qui la précède
                    previousStar = previousStar.previousElementSibling;
                }
            });

// On écoute le clic
            star.addEventListener("click", function(){
                note.value = this.dataset.value;
            });

            star.addEventListener("mouseout", function(){
                resetStars(note.value);
            });
        }

        /**
         * Reset des étoiles en vérifiant la note dans l'input caché
         * @param {number} note
         */
        function resetStars(note = 0){
            for(star of stars){
                if(star.dataset.value > note){
                    star.style.color = "black";
                    star.classList.add("lar");
                    star.classList.remove("las");
                }else{
                    star.style.color = "red";
                    star.classList.add("las");
                    star.classList.remove("lar");
                }
            }
        }
    }
</script>

{% endblock %}